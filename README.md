# 酒吧库存管理小程序

## 项目概述

本项目是一个基于Vue 3和uni-app框架开发的酒吧库存管理小程序，主要用于帮助酒吧管理员进行库存管理、商品入库、出库以及开封状态的跟踪。项目适配微信小程序平台，提供了直观的UI界面和便捷的操作流程。

## 主要功能

1. **库存管理**：查看当前所有商品的库存状态
2. **入库/出库**：支持商品的入库和出库操作
3. **开封管理**：记录和管理商品的开封状态
4. **店铺管理**：支持多店铺的库存管理
5. **商品分类**：按照分类查看和管理商品
6. **用户权限**：基于不同角色的权限控制

## 技术栈

- **前端框架**：Vue 3 + Vuex 4
- **UI组件**：uni-app + uni-ui
- **日期处理**：dayjs
- **网络请求**：自定义request服务

## 项目结构

```
bar-manage-mini/
│
├── components/               # 全局公共组件
├── pages/                    # 页面组件
│   ├── activity/             # 活动相关页面
│   ├── goods/                # 商品管理页面
│   ├── index/                # 首页
│   ├── purchase/             # 采购管理页面
│   ├── start/                # 启动页面
│   ├── stock/                # 库存管理页面
│   │   ├── components/       # 库存页面组件
│   │   │   └── stock-card/   # 库存卡片组件
│   │   └── index.vue         # 库存列表页面
│   ├── supplier/             # 供应商管理页面
│   └── user/                 # 用户相关页面
│
├── services/                 # API服务
│   ├── inventory.js          # 库存相关API
│   ├── product.js            # 商品相关API
│   ├── purchase.js           # 采购相关API
│   ├── request.js            # 请求封装
│   ├── shop.js               # 店铺相关API
│   ├── staff.js              # 员工相关API
│   ├── supplier.js           # 供应商相关API
│   └── mock.js               # 模拟数据
│
├── store/                    # Vuex状态管理
│   └── index.js              # 存储用户信息和导航栏信息
│
├── static/                   # 静态资源
├── utils/                    # 工具函数
├── constants/                # 常量定义
├── uni_modules/              # uni-app模块
│
├── App.vue                   # 应用入口组件
├── main.js                   # 主入口文件
├── pages.json                # 页面路由配置
├── manifest.json             # 应用配置
└── package.json              # 项目依赖
```

## 核心功能实现

### 库存管理

库存管理是本项目的核心功能，通过stock-card组件展示每个商品的库存信息，包括：

- 商品基本信息（名称、价格、分类等）
- 库存总数量
- 已开封数量
- 入库/出库操作
- 开封操作

用户可以通过点击对应的按钮进行库存操作，系统会弹出相应的弹窗进行确认。

### 数据交互

项目通过services目录下的API服务与后端进行交互，主要包括：

- 获取库存列表
- 更新库存（入库/出库/开封）
- 获取用户信息

## 代码优化建议

1. **组件拆分优化**

   - 将stock-card/index.vue中的弹窗组件提取为独立组件，减少单文件复杂度
   - 创建通用的数量选择器组件，替代重复的uni-number-box使用场景
2. **状态管理优化**

   - 将库存相关的状态迁移到Vuex中统一管理，减少组件内的状态管理
   - 添加命名空间，按模块划分Vuex状态
3. **API调用优化**

   - 增加API请求的错误处理和加载状态管理
   - 添加请求缓存机制，减少重复请求
4. **性能优化**

   - 实现库存列表的虚拟滚动，提高长列表的渲染性能
   - 优化图片加载，添加懒加载和占位图
5. **代码质量优化**

   - 添加TypeScript支持，增强类型安全
   - 统一代码风格，添加ESLint和Prettier配置
   - 完善注释和文档
6. **UI/UX优化**

   - 优化移动端适配，特别是在不同尺寸设备上的显示
   - 添加库存变化时的动画效果，提升用户体验
   - 优化加载和错误状态的提示
7. **工程化优化**

   - 添加单元测试，提高代码质量和可维护性
   - 优化构建流程，减小打包体积
   - 添加CI/CD流程，自动化部署
8. **安全性优化**

   - 添加请求拦截器处理身份验证
   - 敏感数据的加密处理

## 后续功能扩展建议

1. 添加数据统计和可视化功能，帮助分析库存变化趋势
2. 实现商品条码扫描功能，简化入库和出库操作
3. 添加库存预警功能，在库存过低时主动提醒
4. 支持批量操作，提高大量商品处理的效率
5. 增加库存历史记录查询，方便追踪库存变动

## 启动项目

1. 安装依赖：

```bash
npm install
# 或
pnpm install
```

2. 开发模式：

```bash
npm run dev:mp-weixin
# 或
pnpm run dev:mp-weixin
```

3. 使用微信开发者工具打开dist/dev/mp-weixin目录进行预览和调试
